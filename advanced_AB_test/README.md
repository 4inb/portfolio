# Продвинутые A/B тесты. Домашнее задание


### Задание



[Файл](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/52fed7b1-6b20-4094-ba15-74ffc02e5306/Домашнее_задание_Бизнес-4_(исходник).csv) для работы над заданием


Вы работаете аналитиком в быстрой доставке SkySamokat. Периодически клиентам рассылаются пуш-уведомления, в которых описывается специальное предложение недели. 

Перед вами список клиентов, которые получали эти пуш-уведомления. По результату рассылки они воспользовались или не воспользовались предложением (поле ***flag_conv***).

Ваши коллеги из отдела маркетинга собираются запустить АБ Тест, в рамках которого они собираются проверить, не будет ли смс-сообщение более эффективным чем пуш-уведомление.

К проектированию данного АБ Теста решили привлечь вас. Вам необходимо протестировать систему сплитования и рассчитать время, необходимое для расчета эксперимента.


**Ход решения:**

1. Исследуйте зависимость пользования предложением от идентификатора клиента. Видите ли вы какие-то закономерности?
    - Подсказка
        
        Постройте график зависимости таргет-величины от последней цифры идентификатора клиента. Воспользуйтесь следующим кодом:
        
        `df['right_symbol'] = df['id_client'].astype(str).str[-1]`
        
2. Сделайте разбиение клиентов по группам (контроль и тест) в зависимости от остатка деления идентификатора на 10. Рассчитайте результаты АА-теста. Наблюдается ли разница?
3. Сделайте разбиение клиентов по группам (контроль и тест) в зависимости от четности идентификатора (остатка от деления идентификатора на 2). Рассчитайте результаты АА-теста. Наблюдается ли разница?
4. Сделайте разбиение клиентов по группам (контроль и тест) с помощью функции sample из библиотеки pandas. По аналогии с расчетом из лекции сделайте 1000 разбиений с помощью sample и рассчитайте статистическую значимость разниц. В скольких процентах случаев наблюдается статистически значимая разница между контролем и тестом в АА-тесте?
    
    **Задача со звездочкой**: проверьте, что это доля (случаев, в которых разница между группами есть) равна 5% на 95%-уровне значимости.
     
5. Рассчитайте, сколько наблюдений потребуется для проведения АБ Теста, при условии что MDE = 2 процентных пункта (предположите, что альфа и бета установлены на дефолтном уровне и что дисперсия выборки не изменится от воздействия В).


***П.с.:*** Заимствуйте код из предыдущих заданий, это поможет решать задачу быстрее.
